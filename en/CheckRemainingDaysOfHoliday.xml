<?xml version="1.0" encoding="utf-8"?><ActionTemplate xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><Action Type="AreEqual" Name="CheckRemainingDaysOfHoliday" ExecuteOnlyOnce="false" TaskWindowOpenWhenPossible="false" ExpectedValue="1" ActualValue="SQL#IF $CURRENT_ITEM[TypeEn] &lt;&gt; (SELECT EnumValues.[ItemID] FROM EnumValues INNER JOIN EnumTypes ON EnumValues.EnumType = EnumTypes.[ItemID] WHERE EnumName = 'VacationType' AND EnumValues.[FileAs] = 'VacationType - Paid vacation') BEGIN SELECT 1 END ELSE BEGIN IF ((SELECT RemainingDaysOfHoliday FROM Users INNER JOIN UnifiedRelations ON ItemGUID1 = Users.ItemGUID AND ItemGUID2 = $CURRENT_ITEM[ItemGUID] AND RelationType = 'VACATION') &lt;= $CURRENT_ITEM[Duration]) BEGIN SELECT 0 END ELSE BEGIN SELECT 1 END END" NotEqualMessage="There is not enough vacation days left." CreateCopy="false"><ActionRelevantList><ActionRelevant RoleGroup="*" CompletionLevel="CannotIgnore" /></ActionRelevantList></Action></ActionTemplate>